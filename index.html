<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>æ‹¡å¼µãƒãƒ«ãƒã‚¢ãƒ—ãƒªç®¡ç†ãƒ„ãƒ¼ãƒ«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }

        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .app-title {
            color: white;
            font-size: 22px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
        }

        .settings-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .settings-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .settings-panel {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            margin-top: 10px;
            border-radius: 10px;
            display: none;
            max-height: 200px;
            overflow-y: auto;
        }

        .settings-panel.active {
            display: block;
        }

        .app-checkbox {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 13px;
        }

        .app-checkbox input[type="checkbox"] {
            margin-right: 8px;
            transform: scale(1.2);
        }

        .tab-list {
            flex: 1;
            padding: 10px 0;
            overflow-y: auto;
        }

        .tab-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 12px 20px;
            margin: 3px 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 14px;
            border: 1px solid transparent;
            width: calc(100% - 20px);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .tab-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .tab-button.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateX(10px);
        }

        .tab-button .icon {
            font-size: 16px;
            margin-right: 8px;
        }

        .content-area {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            margin: 20px;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            position: relative;
        }

        .app-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
            min-height: calc(100vh - 80px);
        }

        .app-content.active {
            display: block;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #666;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #666;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .calculator {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .calculator h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .calc-button {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-bottom: 15px;
        }

        .calc-button:hover {
            transform: translateY(-2px);
        }

        .result {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #333;
            border: 2px solid #e1e5e9;
        }

        .welcome {
            text-align: center;
            color: #333;
            padding: 20px;
        }

        .welcome h1 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .welcome p {
            font-size: 16px;
            line-height: 1.6;
            color: #666;
            margin-bottom: 10px;
        }

        .status-bar {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 11px;
            z-index: 1000;
        }

        /* ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                max-height: 40vh;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            }

            .sidebar-header {
                padding: 15px;
            }

            .app-title {
                font-size: 18px;
                margin-bottom: 10px;
            }

            .tab-list {
                display: flex;
                overflow-x: auto;
                overflow-y: visible;
                padding: 10px;
                white-space: nowrap;
            }

            .tab-button {
                min-width: 120px;
                margin: 0 5px;
                flex-shrink: 0;
            }

            .content-area {
                margin: 10px;
                border-radius: 15px;
                padding: 15px;
                flex: 1;
                min-height: auto;
            }

            .calculator {
                padding: 20px;
            }

            .app-content {
                min-height: auto;
            }

            .status-bar {
                position: relative;
                bottom: auto;
                right: auto;
                margin-top: 10px;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .sidebar-header {
                padding: 10px;
            }

            .app-title {
                font-size: 16px;
            }

            .calculator {
                padding: 15px;
            }

            .calculator h2 {
                font-size: 18px;
            }

            .input-group input {
                padding: 10px;
                font-size: 14px;
            }

            .calc-button {
                padding: 12px;
                font-size: 16px;
            }

            .result {
                font-size: 20px;
                padding: 12px;
            }
        }

        /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ */
        @media (prefers-color-scheme: dark) {
            .content-area {
                background: rgba(30, 30, 30, 0.95);
            }

            .calculator {
                background: #2a2a2a;
                color: white;
            }

            .calculator h2 {
                color: white;
            }

            .input-group label {
                color: #ccc;
            }

            .input-group input {
                background: #3a3a3a;
                border-color: #555;
                color: white;
            }

            .result {
                background: #3a3a3a;
                color: white;
                border-color: #555;
            }

            .welcome {
                color: white;
            }

            .welcome h1 {
                color: #8aa7f7;
            }

            .welcome p {
                color: #ccc;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="app-title">ğŸ“± æ‹¡å¼µãƒãƒ«ãƒã‚¢ãƒ—ãƒª</div>
            <button class="settings-toggle" onclick="toggleSettings()">
                âš™ï¸ ã‚¢ãƒ—ãƒªè¨­å®š
            </button>
            <div class="settings-panel" id="settingsPanel">
                <div id="appCheckboxes"></div>
                <button onclick="resetSettings()" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; font-size: 11px; margin-top: 10px; cursor: pointer;">
                    ãƒªã‚»ãƒƒãƒˆ
                </button>
            </div>
        </div>
        
        <div class="tab-list" id="tabList">
            <!-- ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã¯å‹•çš„ã«ç”Ÿæˆ -->
        </div>
    </div>

    <div class="content-area" id="contentArea">
        <!-- ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯å‹•çš„ã«èª­ã¿è¾¼ã¿ -->
    </div>

    <div class="status-bar" id="statusBar">
        èª­ã¿è¾¼ã¿ä¸­...
    </div>

    <script>
        // ã‚¢ãƒ—ãƒªè¨­å®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç®¡ç†ã‚¯ãƒ©ã‚¹
        class AppManager {
            constructor() {
                this.apps = new Map();
                this.activeApp = null;
                this.settings = this.loadSettings();
                this.tabsConfig = null;
                this.init();
            }

            // åˆæœŸåŒ–
            async init() {
                await this.loadTabsConfig();
                this.registerDefaultApps();
                this.registerTabsFromConfig();
                this.generateDemoApps();
                this.renderTabs();
                this.renderSettings();
                this.showApp('welcome');
                this.updateStatus(`${this.apps.size}å€‹ã®ã‚¢ãƒ—ãƒªãŒåˆ©ç”¨å¯èƒ½`);
            }

            // å¤–éƒ¨ã‚¿ãƒ–è¨­å®šã®èª­ã¿è¾¼ã¿ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œï¼‰
            async loadTabsConfig() {
                try {
                    const response = await fetch('tabs-config.json');
                    this.tabsConfig = await response.json();
                    console.log('ã‚¿ãƒ–è¨­å®šã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ:', this.tabsConfig);
                } catch (error) {
                    console.warn('ã‚¿ãƒ–è¨­å®šã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’ä½¿ç”¨:', error);
                    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’ç›´æ¥å®šç¾©
                    this.tabsConfig = {
                        "tabs": [
                            {
                                "id": "tab1",
                                "name": "æ™‚é–“ç®¡ç†",
                                "icon": "â°",
                                "category": "productivity",
                                "type": "content",
                                "description": "æ™‚é–“ã®ç®¡ç†ã¨åŠ¹ç‡åŒ–ãƒ„ãƒ¼ãƒ«"
                            },
                            {
                                "id": "tab2", 
                                "name": "ä½“ç³»ç®¡ç†",
                                "icon": "ğŸ“‹",
                                "category": "organization",
                                "type": "content",
                                "description": "ä½“ç³»çš„ãªæƒ…å ±ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "
                            },
                            {
                                "id": "tab3",
                                "name": "ä»•äº‹ç®¡ç†", 
                                "icon": "ğŸ’¼",
                                "category": "work",
                                "type": "content",
                                "description": "æ¥­å‹™ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†"
                            },
                            {
                                "id": "tab4",
                                "name": "å¥³æ€§ç®¡ç†",
                                "icon": "ğŸ‘©",
                                "category": "lifestyle",
                                "type": "content", 
                                "description": "å¥³æ€§å‘ã‘ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ç®¡ç†"
                            },
                            {
                                "id": "tab5",
                                "name": "è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—",
                                "icon": "ğŸ§®",
                                "category": "tools",
                                "type": "calculator-tabs",
                                "description": "å„ç¨®è¨ˆç®—æ©Ÿèƒ½ï¼ˆå†…éƒ¨ã‚¿ãƒ–ï¼‰"
                            },
                            {
                                "id": "tab6",
                                "name": "ã‚¿ãƒ–6",
                                "icon": "6ï¸âƒ£",
                                "category": "tab",
                                "type": "content",
                                "description": "ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¿ãƒ–6"
                            },
                            {
                                "id": "tab7",
                                "name": "ã‚¿ãƒ–7",
                                "icon": "7ï¸âƒ£", 
                                "category": "tab",
                                "type": "content",
                                "description": "ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¿ãƒ–7"
                            },
                            {
                                "id": "tab8",
                                "name": "ã‚¿ãƒ–8",
                                "icon": "8ï¸âƒ£",
                                "category": "tab", 
                                "type": "content",
                                "description": "ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¿ãƒ–8"
                            },
                            {
                                "id": "tab9",
                                "name": "ã‚¿ãƒ–9",
                                "icon": "9ï¸âƒ£",
                                "category": "tab",
                                "type": "content", 
                                "description": "ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¿ãƒ–9"
                            },
                            {
                                "id": "tab10",
                                "name": "ã‚¿ãƒ–10",
                                "icon": "ğŸ”Ÿ",
                                "category": "tab",
                                "type": "content",
                                "description": "ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¿ãƒ–10"
                            }
                        ]
                    };
                }
            }

            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ãƒ—ãƒªã®ç™»éŒ²
            registerDefaultApps() {
                this.registerApp({
                    id: 'welcome',
                    name: 'ãƒ›ãƒ¼ãƒ ',
                    icon: 'ğŸ ',
                    category: 'system',
                    content: this.getWelcomeContent()
                });

                this.registerApp({
                    id: 'addition',
                    name: 'è¶³ã—ç®—',
                    icon: 'â•',
                    category: 'calculator',
                    content: this.getCalculatorContent('add', 'è¶³ã—ç®—', 'â•')
                });

                this.registerApp({
                    id: 'subtraction',
                    name: 'å¼•ãç®—',
                    icon: 'â–',
                    category: 'calculator',
                    content: this.getCalculatorContent('sub', 'å¼•ãç®—', 'â–')
                });

                this.registerApp({
                    id: 'multiplication',
                    name: 'æ›ã‘ç®—',
                    icon: 'âœ–ï¸',
                    category: 'calculator',
                    content: this.getCalculatorContent('mul', 'æ›ã‘ç®—', 'âœ–ï¸')
                });

                this.registerApp({
                    id: 'division',
                    name: 'å‰²ã‚Šç®—',
                    icon: 'â—',
                    category: 'calculator',
                    content: this.getCalculatorContent('div', 'å‰²ã‚Šç®—', 'â—')
                });

            }

            // å¤–éƒ¨è¨­å®šã‹ã‚‰ã‚¿ãƒ–ã‚’ç™»éŒ²
            registerTabsFromConfig() {
                if (!this.tabsConfig || !this.tabsConfig.tabs) return;

                this.tabsConfig.tabs.forEach(tabConfig => {
                    let appData = {
                        id: tabConfig.id,
                        name: tabConfig.name,
                        icon: tabConfig.icon,
                        category: tabConfig.category
                    };

                    switch(tabConfig.type) {
                        case 'calculator-tabs':
                            appData.content = this.getCalculatorTabsContent();
                            break;
                        case 'content':
                            appData.content = this.getTabContent(tabConfig.id, tabConfig.name, tabConfig.description);
                            break;
                        case 'url':
                            appData.url = tabConfig.url;
                            break;
                        default:
                            appData.content = this.getTabContent(tabConfig.id, tabConfig.name, tabConfig.description);
                    }

                    this.registerApp(appData);
                });
            }

            // ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã®ç”Ÿæˆï¼ˆ100å€‹å¯¾å¿œã®ãƒ†ã‚¹ãƒˆï¼‰
            generateDemoApps() {
                const categories = ['ãƒ„ãƒ¼ãƒ«', 'ã‚²ãƒ¼ãƒ ', 'ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£', 'è¨ˆç®—', 'ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆ'];
                const icons = ['ğŸ”§', 'ğŸ®', 'ğŸ“Š', 'ğŸ§®', 'ğŸ¬', 'ğŸ“', 'ğŸ¨', 'ğŸ“±', 'ğŸ’¼', 'ğŸŒŸ'];
                
                for (let i = 5; i <= 50; i++) {
                    const category = categories[i % categories.length];
                    const icon = icons[i % icons.length];
                    
                    this.registerApp({
                        id: `demo_${i}`,
                        name: `${category}ã‚¢ãƒ—ãƒª${i}`,
                        icon: icon,
                        category: category.toLowerCase(),
                        content: this.getDemoAppContent(i, category, icon),
                        enabled: false // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹
                    });
                }
            }

            // ã‚¢ãƒ—ãƒªç™»éŒ²
            registerApp(appConfig) {
                const defaultConfig = {
                    enabled: true,
                    loadOnDemand: true
                };
                this.apps.set(appConfig.id, { ...defaultConfig, ...appConfig });
            }

            // è¨­å®šã®èª­ã¿è¾¼ã¿
            loadSettings() {
                try {
                    const saved = localStorage.getItem('multiAppSettings');
                    return saved ? JSON.parse(saved) : {};
                } catch (e) {
                    console.warn('è¨­å®šã®èª­ã¿è¾¼ã¿ã«å¤±æ•—:', e);
                    return {};
                }
            }

            // è¨­å®šã®ä¿å­˜
            saveSettings() {
                try {
                    localStorage.setItem('multiAppSettings', JSON.stringify(this.settings));
                } catch (e) {
                    console.warn('è¨­å®šã®ä¿å­˜ã«å¤±æ•—:', e);
                }
            }

            // ã‚¿ãƒ–ã®æç”»
            renderTabs() {
                const tabList = document.getElementById('tabList');
                tabList.innerHTML = '';

                for (const [id, app] of this.apps) {
                    const isEnabled = this.settings[id] !== false && app.enabled !== false;
                    
                    if (isEnabled) {
                        const button = document.createElement('button');
                        button.className = 'tab-button';
                        button.innerHTML = `
                            <span>
                                <span class="icon">${app.icon}</span>
                                ${app.name}
                            </span>
                        `;
                        button.onclick = () => this.showApp(id);
                        tabList.appendChild(button);
                    }
                }
            }

            // è¨­å®šãƒ‘ãƒãƒ«ã®æç”»
            renderSettings() {
                const container = document.getElementById('appCheckboxes');
                container.innerHTML = '';

                for (const [id, app] of this.apps) {
                    if (app.category !== 'system') {
                        const div = document.createElement('div');
                        div.className = 'app-checkbox';
                        
                        const isChecked = this.settings[id] !== false && app.enabled !== false;
                        
                        div.innerHTML = `
                            <input type="checkbox" id="check_${id}" ${isChecked ? 'checked' : ''} 
                                   onchange="appManager.toggleApp('${id}', this.checked)">
                            <label for="check_${id}">${app.icon} ${app.name}</label>
                        `;
                        container.appendChild(div);
                    }
                }
            }

            // ã‚¢ãƒ—ãƒªã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ
            toggleApp(id, enabled) {
                this.settings[id] = enabled;
                this.saveSettings();
                this.renderTabs();
                
                if (!enabled && this.activeApp === id) {
                    this.showApp('welcome');
                }
            }

            // ã‚¢ãƒ—ãƒªã®è¡¨ç¤º
            async showApp(id) {
                const app = this.apps.get(id);
                if (!app) return;

                // URLãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ç›´æ¥ç§»å‹•
                if (app.url) {
                    window.location.href = app.url;
                    return;
                }

                this.activeApp = id;
                this.updateActiveTab(id);
                
                const contentArea = document.getElementById('contentArea');
                
                // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
                contentArea.innerHTML = '<div class="loading">ã‚¢ãƒ—ãƒªã‚’èª­ã¿è¾¼ã¿ä¸­</div>';
                
                // é…å»¶èª­ã¿è¾¼ã¿ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                await new Promise(resolve => setTimeout(resolve, 200));
                
                // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤º
                contentArea.innerHTML = app.content;
                
                this.updateStatus(`${app.name} ã‚’è¡¨ç¤ºä¸­`);
            }

            // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã®æ›´æ–°
            updateActiveTab(activeId) {
                const buttons = document.querySelectorAll('.tab-button');
                buttons.forEach((button, index) => {
                    const apps = Array.from(this.apps.values()).filter(app => 
                        (this.settings[app.id] !== false && app.enabled !== false) ||
                        (app.category === 'system')
                    );
                    
                    if (apps[index] && apps[index].id === activeId) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });
            }

            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
            updateStatus(message) {
                document.getElementById('statusBar').textContent = message;
            }

            // ã‚¦ã‚§ãƒ«ã‚«ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
            getWelcomeContent() {
                return `
                    <div class="welcome">
                        <h1>ğŸ‰ æ‹¡å¼µãƒãƒ«ãƒã‚¢ãƒ—ãƒªç®¡ç†ãƒ„ãƒ¼ãƒ«</h1>
                        <p>å·¦å´ã®ã‚¿ãƒ–ã‹ã‚‰åˆ©ç”¨ã—ãŸã„ã‚¢ãƒ—ãƒªã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
                        <p>âš™ï¸ <strong>è¨­å®šãƒœã‚¿ãƒ³</strong>ã§ã‚¢ãƒ—ãƒªã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã§ãã¾ã™ã€‚</p>
                        <p>ğŸ“± <strong>ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ</strong>: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã‚‚å¿«é©ã«ä½¿ç”¨å¯èƒ½</p>
                        <p>âš¡ <strong>é«˜æ€§èƒ½è¨­è¨ˆ</strong>: å¿…è¦æ™‚ã®ã¿ã‚¢ãƒ—ãƒªã‚’èª­ã¿è¾¼ã¿ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚’æœ€é©åŒ–</p>
                        <p>ğŸ”§ <strong>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½</strong>: æœ€å¤§100å€‹ã®ã‚¢ãƒ—ãƒªã¾ã§å¯¾å¿œ</p>
                        <p>ğŸ’¾ <strong>è¨­å®šä¿å­˜</strong>: ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚¢ãƒ—ãƒªè¨­å®šã‚’è‡ªå‹•ä¿å­˜</p>
                        <br>
                        <p>ç¾åœ¨åˆ©ç”¨å¯èƒ½ãªã‚¢ãƒ—ãƒª: <strong>${this.apps.size}å€‹</strong></p>
                        <p>è¡¨ç¤ºä¸­ã®ã‚¢ãƒ—ãƒª: <strong>${Array.from(this.apps.values()).filter(app => 
                            (this.settings[app.id] !== false && app.enabled !== false) ||
                            app.category === 'system'
                        ).length}å€‹</strong></p>
                    </div>
                `;
            }

            // è¨ˆç®—æ©Ÿã‚³ãƒ³ãƒ†ãƒ³ãƒ„
            getCalculatorContent(operation, title, symbol) {
                return `
                    <div class="calculator">
                        <h2>${symbol} ${title}è¨ˆç®—æ©Ÿ</h2>
                        <div class="input-group">
                            <label>æ•°å€¤1:</label>
                            <input type="number" id="${operation}1" placeholder="æœ€åˆã®æ•°å€¤ã‚’å…¥åŠ›">
                        </div>
                        <div class="input-group">
                            <label>æ•°å€¤2:</label>
                            <input type="number" id="${operation}2" placeholder="2ç•ªç›®ã®æ•°å€¤ã‚’å…¥åŠ›">
                        </div>
                        <button class="calc-button" onclick="calculate('${operation}')">è¨ˆç®—ã™ã‚‹</button>
                        <div class="result" id="${operation}-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                    </div>
                `;
            }

            // ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒ†ãƒ³ãƒ„
            getDemoAppContent(num, category, icon) {
                return `
                    <div class="welcome">
                        <h1>${icon} ${category}ã‚¢ãƒ—ãƒª${num}</h1>
                        <p>ã“ã‚Œã¯<strong>${category}</strong>ã‚«ãƒ†ã‚´ãƒªã®ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã§ã™ã€‚</p>
                        <p>ã‚¢ãƒ—ãƒªID: demo_${num}</p>
                        <p>ã‚«ãƒ†ã‚´ãƒª: ${category}</p>
                        <p>ã“ã®ã‚¨ãƒªã‚¢ã«å®Ÿéš›ã®ã‚¢ãƒ—ãƒªæ©Ÿèƒ½ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</p>
                        <br>
                        <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; border: 2px dashed #667eea;">
                            <h3>ğŸ’¡ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ’ãƒ³ãƒˆ</h3>
                            <p>â€¢ HTMLã‚’ç›´æ¥ç·¨é›†ã—ã¦ã‚¢ãƒ—ãƒªæ©Ÿèƒ½ã‚’è¿½åŠ </p>
                            <p>â€¢ JavaScripté–¢æ•°ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã‚’å®Ÿè£…</p>
                            <p>â€¢ CSSã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</p>
                            <p>â€¢ LocalStorageã§ãƒ‡ãƒ¼ã‚¿ã‚’æ°¸ç¶šåŒ–</p>
                        </div>
                    </div>
                `;
            }

            // ã‚°ãƒ«ãƒ¼ãƒ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
            getGroupContent(groupId) {
                if (groupId === 'group1') {
                    return `
                        <div class="welcome">
                            <h1>ğŸ“Š åŸºæœ¬è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—</h1>
                            <p>å››å‰‡æ¼”ç®—ã®åŸºæœ¬çš„ãªè¨ˆç®—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</p>
                            <br>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer;" onclick="window.open('groups/group1/add.html', '_blank')">
                                    <div style="font-size: 24px; margin-bottom: 10px;">â•</div>
                                    <h3>è¶³ã—ç®—è¨ˆç®—æ©Ÿ</h3>
                                    <p>åŸºæœ¬çš„ãªåŠ ç®—æ¼”ç®—</p>
                                </div>
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer;" onclick="window.open('groups/group1/subtract.html', '_blank')">
                                    <div style="font-size: 24px; margin-bottom: 10px;">â–</div>
                                    <h3>å¼•ãç®—è¨ˆç®—æ©Ÿ</h3>
                                    <p>åŸºæœ¬çš„ãªæ¸›ç®—æ¼”ç®—</p>
                                </div>
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer;" onclick="window.open('groups/group1/multiply.html', '_blank')">
                                    <div style="font-size: 24px; margin-bottom: 10px;">âœ–ï¸</div>
                                    <h3>æ›ã‘ç®—è¨ˆç®—æ©Ÿ</h3>
                                    <p>åŸºæœ¬çš„ãªä¹—ç®—æ¼”ç®—</p>
                                </div>
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer;" onclick="window.open('groups/group1/divide.html', '_blank')">
                                    <div style="font-size: 24px; margin-bottom: 10px;">â—</div>
                                    <h3>å‰²ã‚Šç®—è¨ˆç®—æ©Ÿ</h3>
                                    <p>åŸºæœ¬çš„ãªé™¤ç®—æ¼”ç®—</p>
                                </div>
                            </div>
                            <div style="text-align: center; margin-top: 20px;">
                                <button onclick="window.open('groups/group1/index.html', '_blank')" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px;">
                                    ğŸ“Š ã‚°ãƒ«ãƒ¼ãƒ—ãƒšãƒ¼ã‚¸ã‚’é–‹ã
                                </button>
                            </div>
                        </div>
                    `;
                } else if (groupId === 'group2') {
                    return `
                        <div class="welcome">
                            <h1>âš¡ å¿œç”¨è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—</h1>
                            <p>é«˜åº¦ãªæ•°å­¦è¨ˆç®—æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™</p>
                            <br>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; opacity: 0.6;">
                                    <div style="font-size: 24px; margin-bottom: 10px;">ğŸ“ˆ</div>
                                    <h3>ç´¯ä¹—è¨ˆç®—æ©Ÿ</h3>
                                    <p>Coming Soon</p>
                                </div>
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; opacity: 0.6;">
                                    <div style="font-size: 24px; margin-bottom: 10px;">âˆš</div>
                                    <h3>å¹³æ–¹æ ¹è¨ˆç®—æ©Ÿ</h3>
                                    <p>Coming Soon</p>
                                </div>
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; opacity: 0.6;">
                                    <div style="font-size: 24px; margin-bottom: 10px;">ï¼…</div>
                                    <h3>ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¨ˆç®—æ©Ÿ</h3>
                                    <p>Coming Soon</p>
                                </div>
                                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center; opacity: 0.6;">
                                    <div style="font-size: 24px; margin-bottom: 10px;">ğŸ“</div>
                                    <h3>ä¸‰è§’é–¢æ•°è¨ˆç®—æ©Ÿ</h3>
                                    <p>Coming Soon</p>
                                </div>
                            </div>
                            <div style="text-align: center; margin-top: 20px;">
                                <button onclick="window.open('groups/group2/index.html', '_blank')" style="background: #4facfe; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px;">
                                    âš¡ ã‚°ãƒ«ãƒ¼ãƒ—ãƒšãƒ¼ã‚¸ã‚’é–‹ã
                                </button>
                            </div>
                        </div>
                    `;
                }
                return '<div class="welcome"><h1>ã‚°ãƒ«ãƒ¼ãƒ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h1></div>';
            }

            // è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
            getCalculationGroupContent() {
                return `
                    <div class="welcome">
                        <h1>ğŸ§® è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—</h1>
                        <p>å››å‰‡æ¼”ç®—ã®è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
                        <br>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                            <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; border: 2px solid #2196f3;" 
                                 onclick="appManager.showCalculator('add')">
                                <div style="font-size: 32px; margin-bottom: 10px;">â•</div>
                                <h3>è¶³ã—ç®—</h3>
                                <p>æ•°å€¤ã‚’è¶³ã—åˆã‚ã›ã¾ã™</p>
                            </div>
                            <div style="background: #fce4ec; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; border: 2px solid #e91e63;" 
                                 onclick="appManager.showCalculator('sub')">
                                <div style="font-size: 32px; margin-bottom: 10px;">â–</div>
                                <h3>å¼•ãç®—</h3>
                                <p>æ•°å€¤ã‚’å¼•ãç®—ã—ã¾ã™</p>
                            </div>
                            <div style="background: #e8f5e8; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; border: 2px solid #4caf50;" 
                                 onclick="appManager.showCalculator('mul')">
                                <div style="font-size: 32px; margin-bottom: 10px;">âœ–ï¸</div>
                                <h3>æ›ã‘ç®—</h3>
                                <p>æ•°å€¤ã‚’æ›ã‘åˆã‚ã›ã¾ã™</p>
                            </div>
                            <div style="background: #fff3e0; padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; border: 2px solid #ff9800;" 
                                 onclick="appManager.showCalculator('div')">
                                <div style="font-size: 32px; margin-bottom: 10px;">â—</div>
                                <h3>å‰²ã‚Šç®—</h3>
                                <p>æ•°å€¤ã‚’å‰²ã‚Šç®—ã—ã¾ã™</p>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button onclick="appManager.showApp('welcome')" 
                                    style="background: #666; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                                ğŸ  ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
                            </button>
                        </div>
                    </div>
                `;
            }

            // è¨ˆç®—æ©Ÿè¡¨ç¤ºãƒ¡ã‚½ãƒƒãƒ‰
            showCalculator(operation) {
                const contentArea = document.getElementById('contentArea');
                contentArea.innerHTML = this.getCalculatorContent(operation, 
                    operation === 'add' ? 'è¶³ã—ç®—' : 
                    operation === 'sub' ? 'å¼•ãç®—' : 
                    operation === 'mul' ? 'æ›ã‘ç®—' : 'å‰²ã‚Šç®—',
                    operation === 'add' ? 'â•' : 
                    operation === 'sub' ? 'â–' : 
                    operation === 'mul' ? 'âœ–ï¸' : 'â—'
                );
                this.updateStatus(`${operation === 'add' ? 'è¶³ã—ç®—' : operation === 'sub' ? 'å¼•ãç®—' : operation === 'mul' ? 'æ›ã‘ç®—' : 'å‰²ã‚Šç®—'}è¨ˆç®—æ©Ÿã‚’è¡¨ç¤ºä¸­`);
            }

            // è¨ˆç®—ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆå†…éƒ¨ã‚¿ãƒ–ä»˜ã - å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ®‹å­˜ç‰ˆï¼‰
            getCalculatorTabsContent() {
                return `
                    <style>
                        .calc-container {
                            height: 100%;
                            display: flex;
                            flex-direction: column;
                        }
                        
                        .calc-header {
                            text-align: center;
                            margin-bottom: 20px;
                        }
                        
                        .calc-header h1 {
                            color: #333;
                            font-size: 28px;
                            margin-bottom: 10px;
                        }
                        
                        .calc-header p {
                            color: #666;
                            font-size: 16px;
                        }
                        
                        .calc-tab-nav {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 8px;
                            background: rgba(102, 126, 234, 0.1);
                            border-radius: 15px;
                            padding: 10px;
                            margin-bottom: 25px;
                            max-width: 100%;
                        }
                        
                        .calc-tab-button {
                            background: transparent;
                            color: rgba(102, 126, 234, 0.7);
                            border: none;
                            padding: 12px 16px;
                            border-radius: 10px;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            font-size: 14px;
                            font-weight: 500;
                            white-space: nowrap;
                            text-align: center;
                            min-height: 44px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        .calc-tab-button:hover {
                            background: rgba(102, 126, 234, 0.1);
                            color: #667eea;
                        }
                        
                        .calc-tab-button.active {
                            background: rgba(102, 126, 234, 0.2);
                            color: #667eea;
                            transform: translateY(-2px);
                            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.2);
                        }
                        
                        .calc-tab-content {
                            display: none;
                            flex: 1;
                            animation: fadeInCalc 0.3s ease;
                        }
                        
                        .calc-tab-content.active {
                            display: block;
                        }
                        
                        .calc-calculator {
                            max-width: 400px;
                            margin: 0 auto;
                            background: white;
                            padding: 25px;
                            border-radius: 15px;
                            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
                        }
                        
                        .calc-calculator h2 {
                            color: #333;
                            margin-bottom: 20px;
                            text-align: center;
                            font-size: 22px;
                        }
                        
                        .calc-input-group {
                            margin-bottom: 15px;
                        }
                        
                        .calc-input-group label {
                            display: block;
                            margin-bottom: 5px;
                            color: #555;
                            font-weight: 500;
                            font-size: 14px;
                        }
                        
                        .calc-input-group input {
                            width: 100%;
                            padding: 12px;
                            border: 2px solid #e1e5e9;
                            border-radius: 8px;
                            font-size: 16px;
                            transition: border-color 0.3s ease;
                        }
                        
                        .calc-input-group input:focus {
                            outline: none;
                            border-color: #667eea;
                        }
                        
                        .calc-button {
                            width: 100%;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border: none;
                            padding: 14px;
                            border-radius: 8px;
                            font-size: 16px;
                            font-weight: bold;
                            cursor: pointer;
                            transition: transform 0.2s ease;
                            margin-bottom: 15px;
                        }
                        
                        .calc-button:hover {
                            transform: translateY(-2px);
                        }
                        
                        .calc-result {
                            background: #f8f9fa;
                            padding: 15px;
                            border-radius: 8px;
                            text-align: center;
                            font-size: 20px;
                            font-weight: bold;
                            color: #333;
                            border: 2px solid #e1e5e9;
                            min-height: 60px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        @keyframes fadeInCalc {
                            from { opacity: 0; transform: translateY(10px); }
                            to { opacity: 1; transform: translateY(0); }
                        }
                        
                        /* ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
                        @media (max-width: 768px) {
                            .calc-tab-nav {
                                grid-template-columns: repeat(2, 1fr);
                                gap: 6px;
                                padding: 8px;
                            }
                            
                            .calc-tab-button {
                                padding: 10px 8px;
                                font-size: 12px;
                                min-height: 40px;
                            }
                            
                            .calc-calculator {
                                padding: 20px;
                            }
                            
                            .calc-calculator h2 {
                                font-size: 18px;
                            }
                        }
                        
                        @media (max-width: 480px) {
                            .calc-tab-nav {
                                grid-template-columns: 1fr 1fr;
                            }
                            
                            .calc-tab-button {
                                font-size: 11px;
                                padding: 8px 6px;
                            }
                        }
                    </style>
                    
                    <div class="calc-container">
                        <div class="calc-header">
                            <h1>ğŸ§® è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—</h1>
                            <p>è¨ˆç®—æ–¹æ³•ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
                        </div>
                        
                        <!-- å†…éƒ¨ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¯å¤‰ã‚°ãƒªãƒƒãƒ‰ - æœ€å¤§5åˆ—Ã—2è¡Œå¯¾å¿œï¼‰ -->
                        <div class="calc-tab-nav">
                            <button class="calc-tab-button active" onclick="showCalcTab('add')">
                                â• è¶³ã—ç®—
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('subtract')">
                                â– å¼•ãç®—
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('multiply')">
                                âœ–ï¸ æ›ã‘ç®—
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('divide')">
                                â— å‰²ã‚Šç®—
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('power')">
                                ğŸ“ˆ ç´¯ä¹—
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('sqrt')">
                                âˆš å¹³æ–¹æ ¹
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('percent')">
                                ï¼… ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('factorial')">
                                ! éšä¹—
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('modulo')">
                                ï¼  ä½™ã‚Š
                            </button>
                            <button class="calc-tab-button" onclick="showCalcTab('round')">
                                ğŸ”„ å››æ¨äº”å…¥
                            </button>
                        </div>
                        
                        <!-- è¶³ã—ç®—ã‚¿ãƒ– -->
                        <div id="add-calc-content" class="calc-tab-content active">
                            <div class="calc-calculator">
                                <h2>â• è¶³ã—ç®—è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤1:</label>
                                    <input type="number" id="calc-add1" placeholder="æœ€åˆã®æ•°å€¤ã‚’å…¥åŠ›" autofocus>
                                </div>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤2:</label>
                                    <input type="number" id="calc-add2" placeholder="2ç•ªç›®ã®æ•°å€¤ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('add')">è¨ˆç®—ã™ã‚‹</button>
                                <div class="calc-result" id="calc-add-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- å¼•ãç®—ã‚¿ãƒ– -->
                        <div id="subtract-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>â– å¼•ãç®—è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤1ï¼ˆè¢«æ¸›æ•°ï¼‰:</label>
                                    <input type="number" id="calc-subtract1" placeholder="å¼•ã‹ã‚Œã‚‹æ•°ã‚’å…¥åŠ›">
                                </div>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤2ï¼ˆæ¸›æ•°ï¼‰:</label>
                                    <input type="number" id="calc-subtract2" placeholder="å¼•ãæ•°ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('subtract')">è¨ˆç®—ã™ã‚‹</button>
                                <div class="calc-result" id="calc-subtract-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- æ›ã‘ç®—ã‚¿ãƒ– -->
                        <div id="multiply-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>âœ–ï¸ æ›ã‘ç®—è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤1ï¼ˆè¢«ä¹—æ•°ï¼‰:</label>
                                    <input type="number" id="calc-multiply1" placeholder="æ›ã‘ã‚‰ã‚Œã‚‹æ•°ã‚’å…¥åŠ›">
                                </div>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤2ï¼ˆä¹—æ•°ï¼‰:</label>
                                    <input type="number" id="calc-multiply2" placeholder="æ›ã‘ã‚‹æ•°ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('multiply')">è¨ˆç®—ã™ã‚‹</button>
                                <div class="calc-result" id="calc-multiply-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- å‰²ã‚Šç®—ã‚¿ãƒ– -->
                        <div id="divide-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>â— å‰²ã‚Šç®—è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤1ï¼ˆè¢«é™¤æ•°ï¼‰:</label>
                                    <input type="number" id="calc-divide1" placeholder="å‰²ã‚‰ã‚Œã‚‹æ•°ã‚’å…¥åŠ›">
                                </div>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤2ï¼ˆé™¤æ•°ï¼‰:</label>
                                    <input type="number" id="calc-divide2" placeholder="å‰²ã‚‹æ•°ã‚’å…¥åŠ›ï¼ˆ0ä»¥å¤–ï¼‰">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('divide')">è¨ˆç®—ã™ã‚‹</button>
                                <div class="calc-result" id="calc-divide-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- ç´¯ä¹—ã‚¿ãƒ– -->
                        <div id="power-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>ğŸ“ˆ ç´¯ä¹—è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>åº•ï¼ˆæ•°å€¤ï¼‰:</label>
                                    <input type="number" id="calc-power1" placeholder="åº•ã¨ãªã‚‹æ•°å€¤ã‚’å…¥åŠ›">
                                </div>
                                <div class="calc-input-group">
                                    <label>æŒ‡æ•°ï¼ˆã¹ãæ•°ï¼‰:</label>
                                    <input type="number" id="calc-power2" placeholder="æŒ‡æ•°ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('power')">è¨ˆç®—ã™ã‚‹</button>
                                <div class="calc-result" id="calc-power-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- å¹³æ–¹æ ¹ã‚¿ãƒ– -->
                        <div id="sqrt-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>âˆš å¹³æ–¹æ ¹è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤:</label>
                                    <input type="number" id="calc-sqrt1" placeholder="å¹³æ–¹æ ¹ã‚’æ±‚ã‚ã‚‹æ•°å€¤ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('sqrt')">è¨ˆç®—ã™ã‚‹</button>
                                <div class="calc-result" id="calc-sqrt-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¿ãƒ– -->
                        <div id="percent-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>ï¼… ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>å…¨ä½“ã®å€¤:</label>
                                    <input type="number" id="calc-percent1" placeholder="å…¨ä½“ã®å€¤ã‚’å…¥åŠ›">
                                </div>
                                <div class="calc-input-group">
                                    <label>éƒ¨åˆ†ã®å€¤:</label>
                                    <input type="number" id="calc-percent2" placeholder="éƒ¨åˆ†ã®å€¤ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('percent')">ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¨ˆç®—</button>
                                <div class="calc-result" id="calc-percent-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- éšä¹—ã‚¿ãƒ– -->
                        <div id="factorial-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>! éšä¹—è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤ï¼ˆæ•´æ•°ï¼‰:</label>
                                    <input type="number" id="calc-factorial1" placeholder="éšä¹—ã‚’æ±‚ã‚ã‚‹æ•´æ•°ã‚’å…¥åŠ›" min="0" max="20">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('factorial')">éšä¹—è¨ˆç®—</button>
                                <div class="calc-result" id="calc-factorial-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- ä½™ã‚Šã‚¿ãƒ– -->
                        <div id="modulo-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>ï¼  ä½™ã‚Šè¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>å‰²ã‚‰ã‚Œã‚‹æ•°:</label>
                                    <input type="number" id="calc-modulo1" placeholder="å‰²ã‚‰ã‚Œã‚‹æ•°ã‚’å…¥åŠ›">
                                </div>
                                <div class="calc-input-group">
                                    <label>å‰²ã‚‹æ•°:</label>
                                    <input type="number" id="calc-modulo2" placeholder="å‰²ã‚‹æ•°ã‚’å…¥åŠ›">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('modulo')">ä½™ã‚Šè¨ˆç®—</button>
                                <div class="calc-result" id="calc-modulo-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                        
                        <!-- å››æ¨äº”å…¥ã‚¿ãƒ– -->
                        <div id="round-calc-content" class="calc-tab-content">
                            <div class="calc-calculator">
                                <h2>ğŸ”„ å››æ¨äº”å…¥è¨ˆç®—æ©Ÿ</h2>
                                <div class="calc-input-group">
                                    <label>æ•°å€¤:</label>
                                    <input type="number" id="calc-round1" placeholder="å››æ¨äº”å…¥ã™ã‚‹æ•°å€¤ã‚’å…¥åŠ›" step="any">
                                </div>
                                <div class="calc-input-group">
                                    <label>å°æ•°ç‚¹ä»¥ä¸‹æ¡æ•°:</label>
                                    <input type="number" id="calc-round2" placeholder="æ¡æ•°ã‚’å…¥åŠ›ï¼ˆ0=æ•´æ•°ï¼‰" min="0" max="10" value="0">
                                </div>
                                <button class="calc-button" onclick="calculateCalc('round')">å››æ¨äº”å…¥</button>
                                <div class="calc-result" id="calc-round-result">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                            </div>
                        </div>
                    </div>
                `;
            }

            // æ±ç”¨ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆå¤–éƒ¨è¨­å®šç”¨ï¼‰
            getTabContent(tabId, tabName, description) {
                const tabNumber = tabId.replace('tab', '');
                return `
                    <div class="welcome">
                        <h1>${tabName}</h1>
                        <p>${description}</p>
                        <br>
                        <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; border: 2px dashed #667eea;">
                            <h3>ğŸ’¡ ${tabName}ã®æ©Ÿèƒ½</h3>
                            <p>â€¢ ã“ã“ã«${tabName}å°‚ç”¨ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã§ãã¾ã™</p>
                            <p>â€¢ ç‹¬è‡ªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ å¯èƒ½</p>
                            <p>â€¢ tabs-config.jsonã§è¨­å®šã‚’å¤‰æ›´ã§ãã¾ã™</p>
                        </div>
                        <br>
                        <div style="text-align: center;">
                            <button onclick="alert('${tabName}ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼')" 
                                    style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px;">
                                ${tabName}ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
                            </button>
                        </div>
                    </div>
                `;
            }

            // ãƒ‡ãƒ¢ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
            getDemoTabContent(tabNumber) {
                return `
                    <div class="welcome">
                        <h1>${tabNumber}ï¸âƒ£ ã‚¿ãƒ–${tabNumber}</h1>
                        <p>ã“ã‚Œã¯ã‚¿ãƒ–${tabNumber}ã®ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p>
                        <br>
                        <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; border: 2px dashed #667eea;">
                            <h3>ğŸ’¡ ã‚¿ãƒ–${tabNumber}ã®æ©Ÿèƒ½</h3>
                            <p>â€¢ ã“ã“ã«ã‚¿ãƒ–${tabNumber}å°‚ç”¨ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã§ãã¾ã™</p>
                            <p>â€¢ ç‹¬è‡ªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ å¯èƒ½</p>
                            <p>â€¢ å¿…è¦ã«å¿œã˜ã¦å¤–éƒ¨ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚‚è¨­å®šã§ãã¾ã™</p>
                        </div>
                        <br>
                        <div style="text-align: center;">
                            <button onclick="alert('ã‚¿ãƒ–${tabNumber}ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼')" 
                                    style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px;">
                                ã‚¿ãƒ–${tabNumber}ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
                            </button>
                        </div>
                    </div>
                `;
            }

            // è¨­å®šãƒªã‚»ãƒƒãƒˆ
            resetSettings() {
                if (confirm('ã™ã¹ã¦ã®è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
                    this.settings = {};
                    this.saveSettings();
                    this.renderTabs();
                    this.renderSettings();
                    this.showApp('welcome');
                    this.updateStatus('è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');
                }
            }
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°
        let appManager;

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            appManager = new AppManager();
        });

        // è¨­å®šãƒ‘ãƒãƒ«ã®åˆ‡ã‚Šæ›¿ãˆ
        function toggleSettings() {
            const panel = document.getElementById('settingsPanel');
            panel.classList.toggle('active');
        }

        // è¨­å®šãƒªã‚»ãƒƒãƒˆ
        function resetSettings() {
            appManager.resetSettings();
        }

        // å†…éƒ¨ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ï¼ˆè¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—ç”¨ï¼‰
        function showCalcTab(tabName) {
            // å…¨ã¦ã®è¨ˆç®—ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            document.querySelectorAll('.calc-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // å…¨ã¦ã®è¨ˆç®—ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‹ã‚‰activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
            document.querySelectorAll('.calc-tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // é¸æŠã•ã‚ŒãŸè¨ˆç®—ã‚¿ãƒ–ã‚’è¡¨ç¤º
            const targetContent = document.getElementById(tabName + '-calc-content');
            if (targetContent) {
                targetContent.classList.add('active');
            }
            
            // é¸æŠã•ã‚ŒãŸè¨ˆç®—ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã«activeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
            event.target.classList.add('active');
            
            // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’æœ€åˆã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ç§»å‹•
            setTimeout(() => {
                const firstInput = document.querySelector('#calc-' + tabName + '1');
                if (firstInput) firstInput.focus();
            }, 100);
        }

        // å†…éƒ¨ã‚¿ãƒ–ç”¨è¨ˆç®—æ©Ÿèƒ½
        function calculateCalc(operation) {
            const num1 = parseFloat(document.getElementById('calc-' + operation + '1').value);
            const num2Element = document.getElementById('calc-' + operation + '2');
            const num2 = num2Element ? parseFloat(num2Element.value) : null;
            
            let result;
            let symbol;
            let displayText;
            
            switch(operation) {
                case 'add':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    result = num1 + num2;
                    displayText = `${num1} + ${num2} = ${result}`;
                    break;
                case 'subtract':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    result = num1 - num2;
                    displayText = `${num1} - ${num2} = ${result}`;
                    break;
                case 'multiply':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    result = num1 * num2;
                    displayText = `${num1} Ã— ${num2} = ${result}`;
                    break;
                case 'divide':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    if (num2 === 0) {
                        document.getElementById('calc-' + operation + '-result').textContent = '0ã§å‰²ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“';
                        return;
                    }
                    result = num1 / num2;
                    result = Math.round(result * 1000000) / 1000000;
                    displayText = `${num1} Ã· ${num2} = ${result}`;
                    break;
                case 'power':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    result = Math.pow(num1, num2);
                    displayText = `${num1}^${num2} = ${result}`;
                    break;
                case 'sqrt':
                    if (isNaN(num1)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    if (num1 < 0) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'è² ã®æ•°ã®å¹³æ–¹æ ¹ã¯è¨ˆç®—ã§ãã¾ã›ã‚“';
                        return;
                    }
                    result = Math.sqrt(num1);
                    result = Math.round(result * 1000000) / 1000000;
                    displayText = `âˆš${num1} = ${result}`;
                    break;
                case 'percent':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    if (num1 === 0) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'å…¨ä½“ã®å€¤ãŒ0ã§ã¯è¨ˆç®—ã§ãã¾ã›ã‚“';
                        return;
                    }
                    result = (num2 / num1) * 100;
                    result = Math.round(result * 100) / 100;
                    displayText = `${num2}ã¯${num1}ã®${result}%`;
                    break;
                case 'factorial':
                    if (isNaN(num1) || num1 < 0 || num1 !== Math.floor(num1)) {
                        document.getElementById('calc-' + operation + '-result').textContent = '0ä»¥ä¸Šã®æ•´æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    if (num1 > 20) {
                        document.getElementById('calc-' + operation + '-result').textContent = '20ä»¥ä¸‹ã®æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    result = 1;
                    for (let i = 2; i <= num1; i++) {
                        result *= i;
                    }
                    displayText = `${num1}! = ${result}`;
                    break;
                case 'modulo':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    if (num2 === 0) {
                        document.getElementById('calc-' + operation + '-result').textContent = '0ã§å‰²ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“';
                        return;
                    }
                    result = num1 % num2;
                    displayText = `${num1} mod ${num2} = ${result}`;
                    break;
                case 'round':
                    if (isNaN(num1) || isNaN(num2)) {
                        document.getElementById('calc-' + operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                        return;
                    }
                    const decimals = Math.max(0, Math.min(10, Math.floor(num2)));
                    result = Math.round(num1 * Math.pow(10, decimals)) / Math.pow(10, decimals);
                    displayText = `${num1}ã‚’å°æ•°ç‚¹ä»¥ä¸‹${decimals}æ¡ã§å››æ¨äº”å…¥: ${result}`;
                    break;
                default:
                    return;
            }
            
            document.getElementById('calc-' + operation + '-result').textContent = displayText;
        }

        // æ—¢å­˜ã®è¨ˆç®—æ©Ÿèƒ½ï¼ˆå¾“æ¥ã®ã‚¢ãƒ—ãƒªç”¨ï¼‰
        function calculate(operation) {
            const num1 = parseFloat(document.getElementById(operation + '1').value);
            const num2 = parseFloat(document.getElementById(operation + '2').value);
            
            if (isNaN(num1) || isNaN(num2)) {
                document.getElementById(operation + '-result').textContent = 'æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                return;
            }
            
            let result;
            let symbol;
            
            switch(operation) {
                case 'add':
                    result = num1 + num2;
                    symbol = '+';
                    break;
                case 'sub':
                    result = num1 - num2;
                    symbol = '-';
                    break;
                case 'mul':
                    result = num1 * num2;
                    symbol = 'Ã—';
                    break;
                case 'div':
                    if (num2 === 0) {
                        document.getElementById(operation + '-result').textContent = '0ã§å‰²ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“';
                        return;
                    }
                    result = num1 / num2;
                    symbol = 'Ã·';
                    break;
                default:
                    return;
            }
            
            document.getElementById(operation + '-result').textContent = 
                `${num1} ${symbol} ${num2} = ${result}`;
        }

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && !e.shiftKey && !e.altKey) {
                // è¨ˆç®—ã‚°ãƒ«ãƒ¼ãƒ—ã®å†…éƒ¨ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼ˆCtrl+1-4ï¼‰
                if (document.querySelector('.calc-tab-button')) {
                    switch(e.key) {
                        case '1':
                            e.preventDefault();
                            showCalcTab('add');
                            break;
                        case '2':
                            e.preventDefault();
                            showCalcTab('subtract');
                            break;
                        case '3':
                            e.preventDefault();
                            showCalcTab('multiply');
                            break;
                        case '4':
                            e.preventDefault();
                            showCalcTab('divide');
                            break;
                    }
                } else {
                    // é€šå¸¸ã®ã‚¢ãƒ—ãƒªåˆ‡ã‚Šæ›¿ãˆï¼ˆCtrl+1-9ï¼‰
                    const key = parseInt(e.key);
                    if (key >= 1 && key <= 9) {
                        e.preventDefault();
                        const apps = Array.from(appManager.apps.values()).filter(app => 
                            (appManager.settings[app.id] !== false && app.enabled !== false) ||
                            app.category === 'system'
                        );
                        if (apps[key - 1]) {
                            appManager.showApp(apps[key - 1].id);
                        }
                    }
                }
            }
        });

        // Enter ã‚­ãƒ¼ã§è¨ˆç®—å®Ÿè¡Œ
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && appManager.activeApp) {
                const activeApp = appManager.activeApp;
                if (['addition', 'subtraction', 'multiplication', 'division'].includes(activeApp)) {
                    const operation = activeApp === 'addition' ? 'add' :
                                    activeApp === 'subtraction' ? 'sub' :
                                    activeApp === 'multiplication' ? 'mul' : 'div';
                    calculate(operation);
                }
            }
        });

        // ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ç™»éŒ²ï¼ˆPWAå¯¾å¿œã®æº–å‚™ï¼‰
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // ä»Šå¾ŒPWAå¯¾å¿œæ™‚ã«å®Ÿè£…
            });
        }
    </script>
</body>
</html>